import { ArgsTable, Canvas, Description, Meta, Source, Story } from '@storybook/addon-docs/blocks';

import { html } from 'lit-html';
import { ifDefined } from 'lit-html/directives/if-defined.js';

import readme from './readme.md';

# `<kclsu-search>`

<Meta
  title="Wrappers/Search"
  component="kclsu-search"
  argTypes={{
    selector: {
      control: 'text',
      description: "If searching the text of an HTML element, provide the element's selector - tag, class or id",
    },
    attr: {
      control: 'text',
      description: 'If searching through custom web components, provide the name of the component atrribute to query',
    },
    containerselector: {
      control: 'text',
      description: 'Can be a jquery-style selector tag, class or id. The container of the search result / search field, used to hide the element from results.',
    },
    placeholdertext: {
      control: 'text',
      description: 'The text inside the search input, which disappears once a user starts typing',
    },
    noerror: {
      control: 'boolean',
      description: 'Remove the error message if there are no search results',
      table: { defaultValue: { summary: false } },
    },
  }}
/>

### Example

```html
    <kclsu-search>

        { HTML elements you want to search }
    
</kclsu-search>
```

### Dependency
Your page must have a class called 'hide', which sets the display to 'none' or whatever you choose.
The search will add this class to any elements where there is a match.

### Build your own
<Canvas withToolbar={true} withSource="open" >
  <Story name="Basic" component="kclsu-search" args={{
    selector: '.example p',
    containerselector: '.example'
  }}>
    {args => html`
      <style> kclsu-search .hide { display: none!important} } </style>
      <kclsu-search
        selector="${ifDefined(args.selector || undefined)}"
        attr="${ifDefined(args.attr || undefined)}"
        containerselector="${ifDefined(args.containerselector || undefined)}"
        placeholdertext="${ifDefined(args.placeholdertext || undefined)}"
        noerror="${ifDefined(args.noerror || undefined)}"
      >
        <div style="background: yellow; display: inline-block; margin: 1em; width: 120px; height: 100px; padding: 1em" class="example"><p>One</p></div>
        <div style="background: yellow; display: inline-block; margin: 1em; width: 120px; height: 100px; padding: 1em" class="example"><p>Two</p></div>
        <div style="background: yellow; display: inline-block; margin: 1em; width: 120px; height: 100px; padding: 1em; vertical-align: bottom;" class="example"><p>Two</p>Thousand</div>
        <div style="background: yellow; display: inline-block; margin: 1em; width: 120px; height: 100px; padding: 1em; vertical-align: bottom;" class="example"><p>Thr</p>es Thousand</div>
      
      </kclsu-search>`}
  </Story>
</Canvas>

<ArgsTable story="Basic"/>


## All Controls


<Description markdown={readme} />

